{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [] //ici items répresente la liste (Array) de Panier =\n  },\n\n  reducers: {\n    addItemToCart: (state, action) => {\n      const item = action.payload; //ici, item aura sa valeure quand on click sur [Add to cart]\n      // console.log(state.items.map(item => item.id));\n      // console.log(\"item_id = \" + item.id);\n      // console.log(state.items.map(item => item.id));\n      const exist = state.items.find(cartItem => cartItem.id === item.id); //La méthode find() renvoie la valeur du premier élément trouvé dans le tableau qui respecte la condition donnée par la fonction de test passée en argument\n      //ici, (exist) = (product) =! liste des produits.\n      // console.log(exist.id)\n      if (exist) {\n        return {\n          ...state,\n          items: state.items.map(cartItem => {\n            if (cartItem.id === exist.id) {\n              return {\n                ...cartItem,\n                quantity: cartItem.quantity + 1 //Le 1 d'incrementation avec la flèche ( > ) dans (< 1 >)\n              };\n            }\n\n            return cartItem;\n          })\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, {\n          ...item,\n          quantity: 1\n        }] //Le 1 ici est pour montrer comme quoi on a 1 new article dans Panier avec quantity 1.\n        //Si on me ( 0 ), on voit pas (le nombre d'articles ajoutés) change quand on clic sur [Add to cart]\n        //Si on met ( 2 ), il nous ajoute 2 quantity à chaque clic sur a new article [Add to cart].\n      };\n    },\n\n    removeItemFromCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist.quantity === 1) {\n        return {\n          ...state,\n          items: state.items.filter(cartItem => cartItem.id !== item.id)\n        };\n      }\n      return {\n        ...state,\n        items: state.items.map(cartItem => {\n          if (cartItem.id === exist.id) {\n            return {\n              ...cartItem,\n              quantity: cartItem.quantity - 1 //Le -1 de décrementation avec la flèche ( < ) dans (< 1 >)\n            };\n          }\n\n          return cartItem;\n        })\n      };\n    },\n    clearCartItem: (state, action) => {\n      return {\n        ...state,\n        items: state.items.filter(cartItem => cartItem.id !== action.payload.id)\n      };\n    },\n    clearCart: state => {\n      return {\n        ...state,\n        items: []\n      };\n    },\n    setCartItems: (state, action) => {\n      //Pour ajouter les articles au Panier à chaque fois on clic sur [Add to cart].\n      return {\n        ...state,\n        items: action.payload\n      };\n    }\n  }\n});\nexport const CART_SLICE_ACTIONS = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","reducers","addItemToCart","state","action","item","payload","exist","find","cartItem","id","map","quantity","removeItemFromCart","filter","clearCartItem","clearCart","setCartItems","CART_SLICE_ACTIONS","actions","reducer"],"sources":["/Users/ivan.jirjees/Desktop/7eme-Arche-frontEnd/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [], //ici items répresente la liste (Array) de Panier =\n  },\n  reducers: {\n    addItemToCart: (state, action) => {\n      const item = action.payload; //ici, item aura sa valeure quand on click sur [Add to cart]\n      // console.log(state.items.map(item => item.id));\n      // console.log(\"item_id = \" + item.id);\n      // console.log(state.items.map(item => item.id));\n      const exist = state.items.find(cartItem => cartItem.id === item.id); //La méthode find() renvoie la valeur du premier élément trouvé dans le tableau qui respecte la condition donnée par la fonction de test passée en argument\n      //ici, (exist) = (product) =! liste des produits.\n      // console.log(exist.id)\n      if (exist) {\n        return {\n          ...state,\n          items: state.items.map(cartItem => {\n            if (cartItem.id === exist.id) {\n              return {\n                ...cartItem,\n                quantity: cartItem.quantity + 1 //Le 1 d'incrementation avec la flèche ( > ) dans (< 1 >)\n              }\n            }\n            return cartItem;\n          })\n        }\n      }\n      return {\n        ...state,\n        items: [...state.items, { ...item, quantity: 1 }] //Le 1 ici est pour montrer comme quoi on a 1 new article dans Panier avec quantity 1.\n                                                          //Si on me ( 0 ), on voit pas (le nombre d'articles ajoutés) change quand on clic sur [Add to cart]\n                                                          //Si on met ( 2 ), il nous ajoute 2 quantity à chaque clic sur a new article [Add to cart].\n      }\n    },\n    removeItemFromCart: (state, action) => {\n      const item = action.payload;\n      const exist = state.items.find(cartItem => cartItem.id === item.id);\n      if (exist.quantity === 1) {\n        return {\n          ...state,\n          items: state.items.filter(cartItem => cartItem.id !== item.id)\n        }\n      }\n      return {\n        ...state,\n        items: state.items.map(cartItem => {\n          if (cartItem.id === exist.id) {\n            return {\n              ...cartItem,\n              quantity: cartItem.quantity - 1 //Le -1 de décrementation avec la flèche ( < ) dans (< 1 >)\n            }\n          }\n          return cartItem;\n        })\n      }\n    },\n    clearCartItem: (state, action) => {\n      return {\n        ...state,\n        items: state.items.filter(cartItem => cartItem.id !== action.payload.id)\n      }\n    },\n    clearCart: (state) => {\n      return {\n        ...state,\n        items: []\n      }\n    },\n    setCartItems: (state, action) => {  //Pour ajouter les articles au Panier à chaque fois on clic sur [Add to cart].\n      return {\n        ...state,\n        items: action.payload\n      }\n    }\n  }\n});\n\n\nexport const CART_SLICE_ACTIONS = cartSlice.actions;\n\nexport default cartSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}